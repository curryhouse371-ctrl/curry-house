
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#f97316" />
  <title>Curry House ‚Äî Menu</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --ch-primary:#f97316; --ch-ink:#1f2937; --ch-bg:#fff7ed; }
    /* Fond orange clair textur√© */
    body{
      background: var(--ch-bg);
      background-image:
        radial-gradient(rgba(0,0,0,.03) 1px, transparent 1px),
        radial-gradient(rgba(0,0,0,.02) 1px, transparent 1px);
      background-size: 18px 18px, 28px 28px;
      background-position: 0 0, 9px 9px;
    }
    .title-gradient { color: var(--ch-primary); }
    .card { background:#fff; border-radius:1rem; box-shadow:0 10px 20px rgba(0,0,0,.05); }
    .price { color:var(--ch-primary); font-weight:700; }
    .tag { background:rgba(249,115,22,.08); color:var(--ch-primary); }
    .sticky-bar {
      position: fixed; left: 0; right: 0; bottom: 0; z-index: 50;
      background: #fff; border-top: 1px solid rgba(249,115,22,.25);
      box-shadow: 0 -6px 16px rgba(0,0,0,.08);
    }
    .cat-image img{ width:100%; height: 15rem; }
    @media (min-width: 768px){ .cat-image img{ height: 18rem; } }
    .checkbox{ width: 1.15rem; height: 1.15rem; accent-color: var(--ch-primary); }
    .qty-btn { background: #f97316; color: white; border-radius: 6px; width: 1.8rem; height: 1.8rem; text-align: center; line-height: 1.8rem; font-weight: bold; cursor: pointer; }
  </style>
</head>

<body class="text-[15px] text-gray-800 pb-28">
  <!-- Header -->
  <header class="max-w-6xl mx-auto px-4 py-8">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
      <div>
        <h1 class="text-3xl md:text-4xl font-semibold title-gradient tracking-tight">Curry House ‚Äî Montreuil</h1>
        <p class="text-gray-600">Menu maison ¬∑ Livraison gratuite sur Montreuil</p>
      </div>
      <div class="text-right">
        <a href="tel:0983036692" class="block text-orange-600 font-semibold">üìû 09 83 03 66 92</a>
        <a href="https://wa.me/33763424110" target="_blank" class="block text-green-600 font-semibold">üí¨ WhatsApp : 07 63 42 41 10</a>
      </div>
    </div>

    <!-- Bandeau livraison -->
    <div class="mt-4 p-3 rounded-xl border border-orange-200 bg-orange-50 text-orange-800 flex flex-col md:flex-row md:items-center md:justify-between gap-2">
      <p class="font-medium">üöö Livraison <strong>gratuite sur Montreuil</strong></p>
      <p>Commandes :
        <a href="tel:0983036692" class="underline font-semibold">09 83 03 66 92</a> ¬∑
        <a href="https://wa.me/33763424110" target="_blank" class="underline font-semibold text-green-700">WhatsApp</a>
      </p>
    </div>

    <!-- Filtres -->
    <div class="mt-6 flex flex-col md:flex-row gap-3">
      <input id="search" type="search" placeholder="Rechercher un plat (ex. tikka, agneau, naan)" class="w-full md:flex-1 px-4 py-3 rounded-xl border border-orange-200 bg-white/80 focus:outline-none focus:ring-2 focus:ring-orange-300" />
      <select id="subcategoryFilter" class="px-4 py-3 rounded-xl border border-orange-200 bg-white/80">
        <option value="">Toutes les sous-cat√©gories</option>
      </select>
    </div>
  </header>

  <!-- Contenu -->
  <main id="menu" class="max-w-6xl mx-auto px-4 pb-10"></main>

  <!-- Footer -->
  <footer class="border-t border-orange-100/60 bg-white/60 backdrop-blur-sm mt-10">
    <div class="max-w-6xl mx-auto px-4 py-8 text-sm text-gray-600">
      <p><strong>Adresse :</strong> 72 rue Beaumarchais, 93100 Montreuil</p>
      <p><strong>T√©l :</strong> 
        <a class="text-orange-600" href="tel:0983036692">09 83 03 66 92</a> / 
        <a class="text-orange-600" href="tel:0763424110">07 63 42 41 10</a>
      </p>
      <p><a href="https://wa.me/33763424110" target="_blank" class="text-green-600 font-medium">üí¨ Contactez-nous sur WhatsApp</a></p>
    </div>
  </footer>

  <!-- IMAGES PAR CAT√âGORIE -->
  <script>
    const CATEGORY_IMAGES = {
      "Entr√©es": "https://source.unsplash.com/1600x900/?indian,appetizer",
      "Plats Tandoori": "https://source.unsplash.com/1600x900/?tandoori,grill,indian",
      "Recommandation du chef": "https://source.unsplash.com/1600x900/?chef,indian,signature,platter",
      "Tandoori masala": "https://source.unsplash.com/1600x900/?indian,curry,masala",
      "Passanda (cr√©meux, doux)": "https://source.unsplash.com/1600x900/?indian,creamy,curry",
      "Kurma (tr√®s doux, lait coco, amandes)": "https://source.unsplash.com/1600x900/?indian,kurma,coconut",
      "Chicken curry (moyennement √©pic√©)": "https://source.unsplash.com/1600x900/?indian,curry,chicken",
      "Plats Rogan": "https://source.unsplash.com/1600x900/?indian,rogan,josh",
      "Dopiaza": "https://source.unsplash.com/1600x900/?indian,curry,onion",
      "Dansak (lentilles, aigre-doux)": "https://source.unsplash.com/1600x900/?dal,indian,lentil,curry",
      "Pathia (aigre-doux, piment√©)": "https://source.unsplash.com/1600x900/?indian,curry,spicy",
      "√âpinards (saag)": "https://source.unsplash.com/1600x900/?saag,spinach,indian",
      "Jalfrezi (poivrons, piments verts)": "https://source.unsplash.com/1600x900/?jalfrezi,indian,peppers",
      "Plats Korai": "https://source.unsplash.com/1600x900/?korai,karahi,indian",
      "Plats Vindaloo (tr√®s piment√©)": "https://source.unsplash.com/1600x900/?vindaloo,spicy,indian",
      "Plats Biryani (servi avec sauce curry)": "https://source.unsplash.com/1600x900/?biryani,indian,rice",
      "Plats Balti (tomates, coriandre, √©pices)": "https://source.unsplash.com/1600x900/?balti,indian,curry",
      "Pains maison": "https://source.unsplash.com/1600x900/?naan,indian,bread,tandoor",
      "Riz basmati": "https://source.unsplash.com/1600x900/?basmati,rice,indian",
      "Accompagnements l√©gumes": "https://source.unsplash.com/1600x900/?indian,vegetable,curry",
      "Chicken madras (un peu piment√©) ‚Äî base sauce madras": "https://source.unsplash.com/1600x900/?madras,curry,indian",
      "Boissons chaudes": "https://source.unsplash.com/1600x900/?chai,tea,indian"
    };
  </script>

  <!-- DONN√âES (DATA) - TON MENU COMPLET MODIFI√â -->
  <script>
    const DATA = [
      {
        category: "Entr√©es",
        note: "Servi avec salade et sauce menthe",
        items: [
          { name: "Salade maison", price: 7.50, desc: "Salade, tomate, concombre" },
          { name: "Poulet tikka (4 pcs)", price: 4.50, desc: "D√©s de poulet mac√©r√©s aux √©pices et cuits au tandoor" },
          { name: "Agneau tikka (4 pcs)", price: 5.50, desc: "Morceaux d‚Äôagneau marin√©s aux √©pices, cuits au tandoor" },
          { name: "Poulet tandoori (1 pc)", price: 4.50, desc: "Cuisse de poulet grill√©e aux √©pices, cuite au tandoor" },
          { name: "Gambas tandoori (2 pcs)", price: 7.00, desc: "Gambas grill√©es aux √©pices" },
          { name: "Sheek kebab (2 pcs)", price: 4.50, desc: "Brochettes de viande hach√©e, oignons, menthe et √©pices" },
          { name: "Shamee kebab (2 pcs)", price: 4.00, desc: "Po√™l√©e d‚Äôagneau hach√© aux oignons, menthe et √©pices" },
          { name: "Saumon tikka (2 pcs)", price: 6.50, desc: "Saumon marin√© aux √©pices et aromates, cuit au tandoor" },
          { name: "Crispy oignon (2 pcs)", price: 3.50, desc: "Bhaji beignets d‚Äôoignons √©pic√©s" },
          { name: "Somossa viande (2 pcs)", price: 4.50, desc: "Samosa farcis √† la viande, peu √©pic√©s" },
          { name: "Somossa poulet (2 pcs)", price: 4.50, desc: "Samosa farcis au poulet, peu √©pic√©s" },
          { name: "Somossa l√©gumes (2 pcs)", price: 4.00, desc: "Samosa farcis l√©gumes, peu √©pic√©s" },
          { name: "Nugget de poulet (5 pcs)", price: 3.50 },
          { name: "Beignet au gambas (1 pc)", price: 5.95, desc: "Beignet croustillant papillon" },
          { name: "Crevette de pour√©e", price: 4.50, desc: "Crevettes po√™l√©es sur petit chapati croustillant" },
          { name: "Poulet chaat masala", price: 4.50, desc: "Po√™l√©e de poulet tikka avec tomate et concombre, √©pices" },
          { name: "Chana chaat masala", price: 4.50, desc: "Pois chiches, tomate et concombre, √©pices" },
          { name: "Allo tikka crispy (2 pcs)", price: 4.50, desc: "Beignets de pomme de terre un peu √©pic√©s" },
          { name: "Pakura poulet (4 pcs)", price: 4.50, desc: "Beignets de poulet √† la farine de pois chiches" },
          { name: "Pakura l√©gumes (2 pcs)", price: 3.50, desc: "Beignets de pommes de terre √† la farine de pois chiches" },
          { name: "Concombre Raita", price: 3.50, desc: "Yaourt, concombre, tomates" },
          { name: "Chicken tikka wrap", price: 7.00, desc: "Sandwich cheese naan, poulet tikka, salade" },
          { name: "Poulet omelette avec salade", price: 5.90 },
          { name: "Natural omelette avec salade", price: 3.50 },
          { name: "Champignons omelette avec salade", price: 4.90 }
        ]
      },
      {
        category: "Plats Tandoori",
        note: "Marin√© aux √©pices et yaourt, grill√© au four tandoor (servi avec salade)",
        items: [
          { name: "Poulet tandoori (4 cuisses)", price: 14.00 },
          { name: "Demi-poulet tandoori (2 pcs)", price: 8.50 },
          { name: "Poulet tikka (d√©s de poulet)", price: 8.50 },
          { name: "Agneau tikka", price: 9.90 },
          { name: "Gambas tandoori (4 pcs)", price: 13.00 },
          { name: "Tandoori Mixed Grill", price: 14.90, desc: "1 gambas, 4 poulet tikka, 4 agneau tikka, 1 poulet tandoori, 1 sheek kebab" },
          { name: "Poulet shaslik", price: 9.90 },
          { name: "Agneau shaslik", price: 10.50 },
          { name: "Canard tikka", price: 12.00 },
          { name: "Saumon tikka", price: 13.00 },
          { name: "Sheek kebab", price: 8.90 }
        ]
      },
      { category: "Recommandation du chef", items: [
        { name: "Shikora tikka poulet", price: 8.50, desc: "Tranches de citron du Bangladesh, herbes, en sauce" },
        { name: "Shikora tikka agneau", price: 9.50 },
        { name: "Poulet tikka miel", price: 8.50 },
        { name: "Agneau tikka miel", price: 9.50 },
        { name: "Gingembre poulet tikka", price: 10.50 },
        { name: "Gingembre agneau", price: 10.50 },
        { name: "Poisson mix bhuna", price: 9.50, desc: "Crevettes, saint-jacques, chou-fleur, pommes de terre, oignons" },
        { name: "Dorade bhuna", price: 8.90 },
        { name: "Poulet bazon", price: 9.50 },
        { name: "Agneau tikka rezala", price: 9.50 },
        { name: "Menthe poulet tikka", price: 8.50 },
        { name: "Menthe agneau tikka", price: 9.50 },
        { name: "Poulet tikka tamarin", price: 8.50 },
        { name: "Agneau tikka tamarin (Sp√©cialit√© du chef)", price: 12.00 },
        { name: "Sally poulet", price: 8.90 },
        { name: "Poulet tikka jaipur", price: 9.50 },
        { name: "Agneau tikka jaipur", price: 10.50 }
      ]},
      { category: "Tandoori masala", items: [
        { name: "Chicken tikka masala", price: 8.50 },
        { name: "Poulet tandoori masala", price: 8.50 },
        { name: "Gambas masala", price: 12.00 },
        { name: "Crevettes masala", price: 10.00 },
        { name: "Agneau tikka masala", price: 9.50 },
        { name: "L√©gumes masala", price: 8.00 },
        { name: "Butter agneau tikka", price: 10.50 },
        { name: "Butter chicken tikka", price: 9.50 },
        { name: "Canard tikka masala", price: 10.50 }
      ]},
      { category: "Passanda (cr√©meux, doux)", items: [
        { name: "Poulet tikka passanda", price: 9.50 },
        { name: "Agneau tikka passanda", price: 10.50 }
      ]},
      { category: "Kurma (tr√®s doux, lait coco, amandes)", items: [
        { name: "Poulet tikka kurma", price: 8.50 },
        { name: "Poulet kurma", price: 8.00 },
        { name: "Agneau tikka kurma", price: 9.00 },
        { name: "Agneau kurma", price: 9.00 },
        { name: "Canard tikka kurma", price: 10.50 },
        { name: "Canard kurma", price: 9.50 },
        { name: "L√©gumes kurma", price: 8.00 },
        { name: "Crevettes kurma", price: 9.00 },
        { name: "Gambas tikka kurma", price: 12.00 },
        { name: "Gambas kurma", price: 10.00 }
      ]},
      { category: "Chicken curry (moyennement √©pic√©)", items: [
        { name: "Poulet tikka curry", price: 8.50 },
        { name: "Poulet curry", price: 8.00 },
        { name: "Agneau tikka curry", price: 9.50 },
        { name: "Agneau curry", price: 9.00 },
        { name: "Canard tikka curry", price: 10.50 },
        { name: "Canard curry", price: 9.50 },
        { name: "L√©gumes curry", price: 7.50 },
        { name: "Crevettes curry", price: 9.00 },
        { name: "Gambas tikka curry", price: 12.00 },
        { name: "Gambas curry", price: 10.00 }
      ]},
      { category: "Plats Rogan", items: [
        { name: "Poulet tikka rogan", price: 8.50 },
        { name: "Poulet rogan", price: 8.00 },
        { name: "Agneau tikka rogan", price: 9.50 },
        { name: "Agneau rogan", price: 9.00 },
        { name: "Canard tikka rogan", price: 10.50 },
        { name: "Canard rogan", price: 9.50 },
        { name: "L√©gumes rogan", price: 7.50 },
        { name: "Crevettes rogan", price: 9.00 },
        { name: "Gambas tikka rogan", price: 12.00 },
        { name: "Gambas rogan", price: 10.00 }
      ]},
      { category: "Dopiaza", items: [
        { name: "Poulet tikka dopiaza", price: 8.50 },
        { name: "Poulet dopiaza", price: 8.00 },
        { name: "Agneau tikka dopiaza", price: 9.50 },
        { name: "Agneau dopiaza", price: 9.00 },
        { name: "Canard tikka dopiaza", price: 10.50 },
        { name: "Canard dopiaza", price: 9.50 },
        { name: "L√©gumes dopiaza", price: 7.50 },
        { name: "Crevettes dopiaza", price: 9.00 },
        { name: "Gambas tikka dopiaza", price: 12.00 },
        { name: "Gambas dopiaza", price: 10.00 }
      ]},
      { category: "Dansak (lentilles, aigre-doux)", items: [
        { name: "Poulet tikka dansak", price: 9.50 },
        { name: "Poulet dansak", price: 9.00 },
        { name: "Agneau tikka dansak", price: 10.00 },
        { name: "Agneau dansak", price: 9.50 },
        { name: "Canard tikka dansak", price: 11.50 },
        { name: "Canard dansak", price: 10.00 },
        { name: "L√©gumes dansak", price: 8.00 },
        { name: "Crevettes dansak", price: 9.50 },
        { name: "Gambas tikka dansak", price: 12.00 },
        { name: "Gambas dansak", price: 11.00 }
      ]},
      { category: "Pathia (aigre-doux, piment√©)", items: [
        { name: "Poulet tikka pathia", price: 9.50 },
        { name: "Poulet pathia", price: 9.00 },
        { name: "Agneau tikka pathia", price: 10.50 },
        { name: "Agneau pathia", price: 9.50 },
        { name: "Canard tikka pathia", price: 11.50 },
        { name: "Canard pathia", price: 10.00 },
        { name: "L√©gumes pathia", price: 8.00 },
        { name: "Crevettes pathia", price: 9.50 },
        { name: "Gambas tikka pathia", price: 12.00 },
        { name: "Gambas pathia", price: 10.00 }
      ]},
      { category: "√âpinards (saag)", items: [
        { name: "Poulet tikka √©pinard", price: 8.50 },
        { name: "Poulet √©pinard", price: 8.00 },
        { name: "Agneau tikka √©pinard", price: 9.50 },
        { name: "Agneau √©pinard", price: 9.00 },
        { name: "Canard tikka √©pinard", price: 10.50 },
        { name: "Canard √©pinard", price: 9.50 },
        { name: "L√©gumes √©pinard", price: 7.50 },
        { name: "Crevettes √©pinard", price: 9.00 },
        { name: "Gambas tikka √©pinard", price: 12.00 },
        { name: "Gambas √©pinard", price: 10.00 }
      ]},
      { category: "Jalfrezi (poivrons, piments verts)", items: [
        { name: "Poulet tikka jalfrezi", price: 8.50 },
        { name: "Poulet jalfrezi", price: 8.00 },
        { name: "Agneau tikka jalfrezi", price: 9.50 },
        { name: "Agneau jalfrezi", price: 9.00 },
        { name: "Canard tikka jalfrezi", price: 10.50 },
        { name: "Canard jalfrezi", price: 9.50 },
        { name: "L√©gumes jalfrezi", price: 7.50 },
        { name: "Crevettes jalfrezi", price: 9.00 },
        { name: "Gambas tikka jalfrezi", price: 12.00 },
        { name: "Gambas jalfrezi", price: 10.00 }
      ]},
      { category: "Plats Korai", items: [
        { name: "Poulet tikka korai", price: 8.50 },
        { name: "Poulet korai", price: 8.00 },
        { name: "Agneau tikka korai", price: 9.50 },
        { name: "Agneau korai", price: 8.50 },
        { name: "Canard tikka korai", price: 10.50 },
        { name: "Canard korai", price: 9.50 },
        { name: "L√©gumes korai", price: 7.50 },
        { name: "Crevettes korai", price: 9.00 },
        { name: "Gambas tikka korai", price: 12.00 },
        { name: "Gambas korai", price: 10.00 }
      ]},
      { category: "Plats Vindaloo (tr√®s piment√©)", items: [
        { name: "Poulet tikka vindaloo", price: 8.50 },
        { name: "Poulet vindaloo", price: 8.00 },
        { name: "Agneau tikka vindaloo", price: 9.50 },
        { name: "Agneau vindaloo", price: 9.00 },
        { name: "Canard tikka vindaloo", price: 10.50 },
        { name: "Canard vindaloo", price: 9.50 },
        { name: "L√©gumes vindaloo", price: 7.50 },
        { name: "Crevettes vindaloo", price: 9.00 },
        { name: "Gambas tikka vindaloo", price: 12.00 },
        { name: "Gambas vindaloo", price: 10.00 }
      ]},
      { category: "Plats Biryani (servi avec sauce curry)", items: [
        { name: "Poulet tikka biryani", price: 9.50 },
        { name: "Poulet biryani", price: 9.00 },
        { name: "Agneau tikka biryani", price: 10.50 },
        { name: "Agneau biryani", price: 10.00 },
        { name: "Canard biryani", price: 10.50 },
        { name: "L√©gumes biryani", price: 7.50 },
        { name: "Crevettes biryani", price: 9.00 },
        { name: "Gambas tikka biryani", price: 12.00 },
        { name: "Gambas biryani", price: 11.00 },
        { name: "Mix sp√©cial biryani (4 poulet, 4 agneau, 1 gambas)", price: 15.00 }
      ]},
      { category: "Plats Balti (tomates, coriandre, √©pices)", items: [
        { name: "Poulet tikka balti", price: 8.50 },
        { name: "Poulet balti", price: 8.00 },
        { name: "Agneau tikka balti", price: 9.50 },
        { name: "Agneau balti", price: 9.00 },
        { name: "Canard tikka balti", price: 10.50 }
      ]},
      { category: "Pains maison", items: [
        { name: "Nan", price: 2.00 },
        { name: "Nan au fromage", price: 3.00 },
        { name: "Garlic nan", price: 3.00 },
        { name: "Peshwari nan (sucr√©)", price: 3.00 },
        { name: "Keema nan", price: 3.00 },
        { name: "Nan poulet tikka", price: 3.00 },
        { name: "Nan aux l√©gumes", price: 3.50 },
        { name: "Stuffed paratha", price: 3.50 },
        { name: "Desi paratha", price: 3.00 },
        { name: "Naan Fromage Garlic", price: 3.00 },
        { name: "Tandoori pains", price: 2.50 },
        { name: "Chappati", price: 2.00 }
      ]},
      { category: "Riz basmati", items: [
        { name: "Riz nature", price: 3.00 },
        { name: "Riz pulao basmati", price: 3.50 },
        { name: "Riz frit √† l‚Äôoignon", price: 4.50 },
        { name: "Riz frit sp√©cial petits pois", price: 4.50 },
        { name: "Riz aux l√©gumes", price: 4.50 },
        { name: "Riz frit aux champignons", price: 4.50 },
        { name: "Riz au citron", price: 3.50 },
        { name: "Riz aux ≈ìufs frits", price: 4.50 },
        { name: "Riz aloo √† l‚Äôail", price: 4.50 },
        { name: "Riz √† la noix de coco sucr√©", price: 3.50 },
        { name: "Frites", price: 3.00 }
      ]},
      { category: "Accompagnements l√©gumes", items: [
        { name: "Curry de l√©gumes", price: 4.90 },
        { name: "Po√™l√©e de l√©gumes", price: 4.90 },
        { name: "Po√™l√©e de champignons", price: 4.90 },
        { name: "Po√™l√©e de chou-fleur", price: 4.90 },
        { name: "Dhall Sambar", price: 4.90 },
        { name: "Pommes de terre Bombay", price: 4.90 },
        { name: "Bhindi Bhaji", price: 4.90 },
        { name: "Tarka Dhall", price: 4.90 },
        { name: "Chana Massala", price: 4.90 },
        { name: "Aloo gobi", price: 4.90 },
        { name: "Chana Aloo", price: 4.90 },
        { name: "Chana Sag", price: 4.90 },
        { name: "Sag Bhaji", price: 4.90 },
        { name: "Moutor paneer", price: 4.90 },
        { name: "Sag Paneer", price: 4.90 },
        { name: "Sag Aloo", price: 4.90 },
        { name: "Tarka Sag Dall", price: 4.90 }
      ]},
      { category: "Chicken madras (un peu piment√©) ‚Äî base sauce madras", items: [
        { name: "Poulet tikka madras", price: 8.50 },
        { name: "Poulet madras", price: 8.00 },
        { name: "Agneau tikka madras", price: 9.50 },
        { name: "Agneau madras", price: 9.00 },
        { name: "Canard tikka madras", price: 10.50 },
        { name: "Canard madras", price: 9.50 },
        { name: "L√©gumes madras", price: 7.50 },
        { name: "Crevettes madras", price: 9.00 },
        { name: "Gambas tikka madras", price: 12.00 },
        { name: "Gambas madras", price: 10.00 }
      ]},
      {category: "Boissons froides",items: [
        { name: "Coca-Cola 33cl", price: 2.00 },
        { name: "Coca-Cola z√©ro 33cl", price: 2.00 }, 
        { name: "Fanta orange 33cl", price: 2.00 }, 
        { name: "Oasis tropical 33cl", price: 2.00 }, 
        { name: "Ice tea p√™che 33cl", price: 2.00 }, 
        { name: "Eau min√©rale 50cl", price: 1.50 }, 
        { name: "Bouteille eau gazeuse", price: 2.50 } 
      ] },
      {category: "Desserts",items: [ 
        { name: "Gulab jamun (2 pcs)", price: 3.50, desc: "Boulettes sucr√©es indiennes au sirop" },
        { name: "Halwa maison", price: 4.00, desc: "Dessert sucr√© √† base de semoule" }, 
        { name: "Cheesecake", price: 3.50 }, { name: "Tiramisu", price: 3.50 },
        { name: "Carrotte Halwa", price: 3.50 }, { name: "Lassi sucr√©", price: 3.00 }, 
        { name: "Lassi mangue", price: 3.50 }, { name: "Lassi rose", price: 3.50 } ] },
      { category: "Boissons chaudes", items: [
        { name: "Caf√©", price: 2.00 },
        { name: "Th√© √† la menthe", price: 2.50 },
        { name: "Th√© √† la gingembre", price: 2.50 }
      ]}
    ];
  </script>

  <!-- RENDERER + S√âLECTION / QUANTIT√âS / TOTAL / WHATSAPP -->
  <script>
    const menuEl = document.getElementById("menu");
    const searchEl = document.getElementById("search");
    const subcatEl = document.getElementById("subcategoryFilter");

    // √âTAT DE S√âLECTION : key = id unique de l'item (pas le nom), val = { name, price, qty }
    const selected = new Map();

    // Remplir filtre sous-cat√©gories (s'il y en a)
    const allSubcats = new Set();
    DATA.forEach(cat => { if (cat.subcategories) cat.subcategories.forEach(sc => allSubcats.add(sc.name)); });
    [...allSubcats].sort().forEach(name => {
      const opt = document.createElement("option");
      opt.value = name; opt.textContent = name; subcatEl.appendChild(opt);
    });

    const euro = n => `${n.toFixed(2).replace(".", ",")} ‚Ç¨`;

    function sectionHeader(title, note){
      return `
        <div class="flex items-end justify-between mb-3">
          <h2 class="text-2xl md:text-3xl font-semibold title-gradient">${title}</h2>
          ${note ? `<span class="text-xs md:text-sm tag px-3 py-1 rounded-full">${note}</span>` : ""}
        </div>`;
    }

    function catImage(title){
      const src = CATEGORY_IMAGES[title] || "";
      return `<div class="cat-image overflow-hidden rounded-xl border border-orange-100 mb-4">
                <img loading="lazy" src="${src}" alt="${title}" class="w-full object-cover" onerror="this.remove()">
              </div>`;
    }

    function itemRow(item){
      const id = `id_${Math.random().toString(36).slice(2,9)}`;
      return `
        <div class="flex items-center justify-between py-2 border-b border-orange-50 gap-3">
          <div class="flex items-start gap-3">
            <input id="${id}" type="checkbox" class="checkbox mt-1" data-name="${item.name.replaceAll('"','&quot;')}" data-price="${item.price}">
            <label for="${id}" class="cursor-pointer">
              <p class="font-medium">${item.name}</p>
              ${item.desc ? `<p class="text-sm text-gray-600">${item.desc}</p>` : ""}
            </label>
          </div>
          <div class="flex items-center gap-3">
            <div class="flex items-center gap-1" data-qty-box="${id}" style="display:none;">
              <div class="qty-btn" data-action="minus" data-id="${id}">-</div>
              <span id="qty_${id}">1</span>
              <div class="qty-btn" data-action="plus" data-id="${id}">+</div>
            </div>
            <div class="price whitespace-nowrap">${euro(item.price)}</div>
          </div>
        </div>`;
    }

    function attachHandlers(scopeEl){
      // Checkbox
      scopeEl.querySelectorAll('input[type="checkbox"]').forEach(cb => {
        cb.addEventListener('change', () => {
          const id = cb.id;
          const name = cb.dataset.name;
          const price = parseFloat(cb.dataset.price || "0");
          const qtyBox = scopeEl.querySelector(`[data-qty-box="${id}"]`);
          if (cb.checked){
            selected.set(id, { name, price, qty: 1 });
            if (qtyBox) qtyBox.style.display = "flex";
          } else {
            selected.delete(id);
            if (qtyBox) qtyBox.style.display = "none";
          }
          updateTotal();
        });
      });

      // Boutons +/-
      scopeEl.querySelectorAll('.qty-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const id = btn.dataset.id;
          const item = selected.get(id);
          if (!item) return;
          if (btn.dataset.action === "plus") item.qty++;
          if (btn.dataset.action === "minus" && item.qty > 1) item.qty--;
          const qtyEl = scopeEl.querySelector(`#qty_${id}`);
          if (qtyEl) qtyEl.textContent = item.qty;
          updateTotal();
        });
      });
    }

    function render(data){
      const q = (searchEl.value||"").trim().toLowerCase();
      const sub = subcatEl.value;
      menuEl.innerHTML = "";

      data.forEach(cat => {
        let html = "";
        html += sectionHeader(cat.category, cat.note);
        html += catImage(cat.category);

        if (cat.subcategories){
          const subs = sub ? cat.subcategories.filter(sc => sc.name===sub) : cat.subcategories;
          subs.forEach(sc => {
            const items = sc.items.filter(it => !q || it.name.toLowerCase().includes(q));
            if (!items.length) return;
            html += `<h3 class="mt-3 mb-2 text-lg font-semibold text-gray-800">${sc.name}</h3>`;
            html += `<div class="card p-2 md:p-4 divide-y divide-orange-50">` + items.map(itemRow).join("") + `</div>`;
          });
        } else {
          const items = cat.items.filter(it => !q || it.name.toLowerCase().includes(q));
          if (items.length){
            html += `<div class="card p-2 md:p-4 divide-y divide-orange-50">` + items.map(itemRow).join("") + `</div>`;
          }
        }

        const wrap = document.createElement("section");
        wrap.className = "mb-12";
        wrap.innerHTML = html;
        menuEl.appendChild(wrap);
        attachHandlers(wrap);
      });

      updateTotal();
    }

    // Barre fixe (nom client + total + bouton WhatsApp)
 
       // Barre fixe (nom client + total + bouton WhatsApp)
const bar = document.createElement('div');
bar.className = 'sticky-bar';
bar.innerHTML = `
  <div class="max-w-6xl mx-auto px-4 py-3 grid gap-3 md:flex md:items-end md:justify-between">
    <div class="flex flex-col md:flex-row gap-2 md:items-center flex-wrap w-full">
      <label class="text-sm text-gray-700 whitespace-nowrap">Type de commande :</label>
      <select id="orderType" class="px-3 py-2 rounded-lg border border-orange-200 focus:outline-none focus:ring-2 focus:ring-orange-300">
        <option value="Livraison">Livraison</option>
        <option value="√Ä emporter">√Ä emporter</option>
        <option value="Sur place">Sur place</option>
      </select>

      <div id="surPlaceFields" class="hidden flex flex-wrap gap-3 items-center">
        <label class="text-sm text-gray-700">Heure d‚Äôarriv√©e :</label>
        <input id="arrivalTime" type="time" class="px-3 py-2 rounded-lg border border-orange-200 focus:outline-none focus:ring-2 focus:ring-orange-300" />

        <label class="text-sm text-gray-700">Nombre de personnes :</label>
        <input id="personCount" type="number" min="1" class="w-20 px-3 py-2 rounded-lg border border-orange-200 focus:outline-none focus:ring-2 focus:ring-orange-300" />
      </div>

      <label for="clientName" class="text-sm text-gray-700 whitespace-nowrap">Nom du client :</label>
      <input id="clientName" type="text" placeholder="ex. Karim" class="px-3 py-2 rounded-lg border border-orange-200 focus:outline-none focus:ring-2 focus:ring-orange-300" />
    </div>

    <div class="flex items-center gap-3">
      <div id="orderTotal" class="text-lg font-semibold text-gray-900">Total : 0,00 ‚Ç¨</div>
      <a id="sendWhatsApp" href="#" class="px-5 py-3 rounded-xl bg-green-600 text-white font-semibold text-center md:min-w-[280px]">üí¨ Envoyer la commande sur WhatsApp</a>
    </div>
  </div>`;
document.body.appendChild(bar);


    function calcTotal(){
      let total = 0;
      for (const item of selected.values()){ total += item.price * item.qty; }
      return total;
    }

    function updateTotal(){
      document.getElementById("orderTotal").textContent = "Total : " + euro(calcTotal());
    }

    document.getElementById("sendWhatsApp").addEventListener("click", e => {
  e.preventDefault();

  const name = (document.getElementById("clientName").value || "").trim();
  const type = document.getElementById("orderType").value;
  const arrival = document.getElementById("arrivalTime").value;
  const persons = document.getElementById("personCount").value;

  let msg = `Bonjour Curry House,%0A`;
  msg += name ? `Commande de ${name}%0A` : "";
  msg += `Type de commande : ${type}%0A`;

  // üëâ Ajout de ces lignes pour afficher les champs ‚Äúsur place‚Äù
  if (type === "Sur place") {
    if (arrival) msg += `Heure d‚Äôarriv√©e : ${arrival}%0A`;
    if (persons) msg += `Nombre de personnes : ${persons}%0A`;
  }

  // Ici, tu peux aussi rajouter le d√©tail des plats si tu veux
  msg += `%0Aüî∏ Total : ${(calcTotal ? calcTotal().toFixed(2).replace(".", ",") : "0,00")} ‚Ç¨`;

  window.open(`https://wa.me/33763424110?text=${msg}`, "_blank");
});


    // Filtres
    searchEl.addEventListener("input", () => render(DATA));
    subcatEl.addEventListener("change", () => render(DATA));

    // Premier rendu
    render(DATA);
  </script>
  <script>
  document.getElementById("orderType").addEventListener("change", e => {
    document.getElementById("surPlaceFields").classList.toggle("hidden", e.target.value !== "Sur place");
  });

  document.getElementById("sendWhatsApp").addEventListener("click", e => {
    e.preventDefault();
    if (selected.size === 0){
      alert("Merci de cocher au moins un plat avant d‚Äôenvoyer la commande.");
      return;
    }

    const name = (document.getElementById("clientName").value || "").trim();
    const type = document.getElementById("orderType").value;
    const arrival = document.getElementById("arrivalTime").value;
    const persons = document.getElementById("personCount").value;

    let msg = `Bonjour Curry House,%0A`;
    msg += name ? `Commande de ${name}%0A` : "Commande:%0A";
    msg += `Type de commande : ${type}%0A`;

    if (type === "Sur place") {
      if (arrival) msg += `Heure d‚Äôarriv√©e : ${arrival}%0A`;
      if (persons) msg += `Nombre de personnes : ${persons}%0A`;
    }

    msg += `%0APlats :%0A`;
    for (const item of selected.values()) {
      msg += `- ${item.name} x${item.qty} (${(item.price*item.qty).toFixed(2).replace(".", ",")} ‚Ç¨)%0A`;
    }
    msg += `%0Aüî∏ Total : ${(calcTotal()).toFixed(2).replace(".", ",")} ‚Ç¨`;

    window.open(`https://wa.me/33763424110?text=${msg}`, "_blank");
  });
</script>
</body>
</html>
